function t(t){return localStorage.getItem(t)}function e(t,e){localStorage.setItem(t,e)}var n=class{reset(){this.todo=[],this.completed=[],this.save()}save(){e("TaskList",JSON.stringify({todo:this.todo,completed:this.completed}))}createTask(t,e){const n={name:t,expected:e,actual:0};this.todo.push(n),this.save()}deleteTask(t){this.todo.splice(t,1),this.save()}updateTask(t,e,n){t>=Object.keys(this.todo).length||(this.todo[t].name=e,this.todo[t].expected=n,this.save())}addPomo(){this.todo[0].actual+=1,this.save()}finishTask(){const t=this.todo[0];this.completed.push(t),this.deleteTask(0)}constructor(){const e=JSON.parse(t("TaskList"));null==e?this.reset():(this.todo=e.todo,this.completed=e.completed)}};class s{static show(){document.querySelector("#notification").style.display="flex"}static hide(){document.querySelector("#notification").style.display="none"}static prompt(t,e){let{title:n,subtitle:o,leftButton:i,rightButton:a}=t;return document.querySelector("#notification-title").textContent=n||"",document.querySelector("#notification-subtitle").textContent=o||"",document.querySelector("#notif-left").textContent=i||"",document.querySelector("#notif-right").textContent=a||"",s.show(),new Promise((t=>{document.querySelector("#notification").onclick=n=>{n.target.querySelector("#notif-content")&&e&&(s.hide(),t("neither"))},document.querySelector("#notif-left").onclick=()=>{t("left")},document.querySelector("#notif-right").onclick=()=>{t("right")}}))}}var o=s;class i extends HTMLElement{static createButtonContainer(){const t=document.createElement("div");return t.classList.add("col-12","col-xxl-6"),t}static createButton(){const t=document.createElement("button"),e=document.createTextNode("Create New Session");return t.classList.add("btn","btn-success","btn-lg","btn-block"),t.appendChild(e),t.addEventListener("click",(()=>{if((new n).todo.length>0){const t={title:"You already have an existing session, creating a new one will overwrite it!",subtitle:"Continue anyway?",leftButton:"Yes",rightButton:"No"};o.prompt(t,!0).then((t=>{"left"===t?(localStorage.removeItem("TaskList"),localStorage.removeItem("Started"),localStorage.removeItem("TotalPomos"),localStorage.removeItem("Timer"),window.location.href="./app.html"):"right"===t&&o.hide()}))}else window.location.href="./app.html"})),t}static createAnchor(){const t=document.createElement("a"),e=document.createTextNode("Resume My Session");return t.href="app.html",t.classList.add("btn","btn-secondary","btn-lg","btn-block"),t.appendChild(e),t}constructor(){super(),this.classList.add("row");const t=i.createButtonContainer();t.classList.add("mb-3","mb-xxl-0");const e=i.createButtonContainer();this.appendChild(t),this.appendChild(e),t.appendChild(i.createButton());const s=new n;(s.todo.length>0||s.completed.length>0)&&e.appendChild(i.createAnchor())}}customElements.define("start-buttons",i);var a=i;class c extends HTMLElement{constructor(){super(),this.appendChild(document.querySelector("#username-input-template").content.cloneNode(!0));const t=this.querySelector(".start-input"),n=this.querySelector(".start-input-button");t.addEventListener("keyup",(t=>{"Enter"===t.code&&n.click()})),n.addEventListener("click",(()=>{t.value.length<1||(e("Username",t.value),window.location.href="./app.html")}))}}customElements.define("username-input",c);var l=c;class r extends HTMLElement{createEditNameButton(){const t=document.createElement("i");return t.classList.add("fas","fa-pencil-alt","text-warning","edit-icon"),t.addEventListener("click",(()=>{this.enterEditMode()})),t}createFinishEditButton(){const n=document.createElement("button");n.classList.add("save-btn");const s=document.createElement("i");return s.classList.add("fas","fa-check","text-success","save-icon"),n.appendChild(s),n.addEventListener("click",(()=>{let n=this.container.firstChild.value;n.length>0?e("Username",n):n=t("Username"),this.enterDefaultMode(n)})),n}createCancelEditButton(){const e=document.createElement("i");return e.classList.add("fas","fa-times","text-danger","cancel-icon"),e.addEventListener("click",(()=>{const e=t("Username");this.enterDefaultMode(e)})),e}enterEditMode(){const e=document.createElement("input");for(e.value=t("Username"),e.classList.add("edit-name");this.container.lastElementChild;)this.container.removeChild(this.container.lastElementChild);this.container.appendChild(e),this.container.appendChild(this.createFinishEditButton()),this.container.appendChild(this.createCancelEditButton()),e.addEventListener("keyup",(t=>{"Enter"===t.code&&this.querySelector(".save-btn").click()})),e.addEventListener("input",(()=>{e.value.length>0?this.querySelector(".save-btn").disabled=!1:this.querySelector(".save-btn").disabled=!0})),e.focus()}enterDefaultMode(t){const e=document.createElement("h2"),n=document.createTextNode("Welcome Back, ".concat(t,"!"));for(e.appendChild(n),e.classList.add("subtitle","mb-0");this.container.lastElementChild;)this.container.removeChild(this.container.lastElementChild);this.container.appendChild(e),this.container.appendChild(this.createEditNameButton())}constructor(t){super(),this.container=document.createElement("div"),this.container.classList.add("d-flex","align-items-center","justify-content-between","mb-3","flex-wrap"),this.appendChild(this.container),this.enterDefaultMode(t)}}customElements.define("welcome-message",r);var d=r;class h extends HTMLElement{constructor(){super();const e=t("Username");e?(this.appendChild(new d(e)),this.appendChild(new a)):this.appendChild(new l)}}customElements.define("start-container",h);