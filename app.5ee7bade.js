!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=t.parcelRequireeb0a;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequireeb0a=i);var a=i("6RjbW"),r=i("2tlwz"),l=i("9wqlD"),u=i("8pxQ1"),s=i("17uBT"),c=i("D7RPs");function d(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,i=e(c)(t);if(n){var a=e(c)(this).constructor;o=Reflect.construct(i,arguments,a)}else o=i.apply(this,arguments);return e(s)(this,o)}}var h=function(t){e(u)(o,t);var n=d(o);function o(){var t;return e(a)(this,o),(t=n.call(this)).appendChild(document.querySelector("#tomato-slider-template").content.cloneNode(!0)),t.input=t.firstElementChild,t.container=t.lastElementChild,t.tomatos=t.querySelectorAll(".slider-tomato > g"),t.input.style.display="none",t.handleClick=t.handleClick.bind(e(l)(t)),t.handleMouseMove=t.handleMouseMove.bind(e(l)(t)),t.handleMouseLeave=t.handleMouseLeave.bind(e(l)(t)),new MutationObserver((function(e){e.forEach((function(e){"disabled"===e.attributeName&&(console.log("disabled mutation"),t.updateState())}))})).observe(t.input,{attributes:!0}),t}return e(r)(o,[{key:"connectedCallback",value:function(){this.updateState()}},{key:"updateState",value:function(){this.input.disabled?this.defaultMode():this.editMode()}},{key:"colorTomatos",value:function(e,t){this.tomatos.forEach((function(n,o){n.classList.value=o<e?"".concat(t,"-tomato"):"white-tomato"}))}},{key:"render",value:function(){this.input.disabled?this.colorTomatos(Number(this.input.value),"green"):this.colorTomatos(Number(this.input.value),"red")}},{key:"handleClick",value:function(e){var t=this.querySelector(".slider-tomato-container").getBoundingClientRect(),n=t.left,o=t.right;this.input.value=Math.min(Math.ceil((e.clientX-n+1)/((o-n)/5)),5)}},{key:"handleMouseLeave",value:function(){this.colorTomatos(Number(this.input.value),"red")}},{key:"handleMouseMove",value:function(e){var t=this.querySelector(".slider-tomato-container").getBoundingClientRect(),n=t.left,o=t.right,i=Math.min(Math.max(Math.ceil((e.clientX-n)/((o-n)/5)),1),5);this.colorTomatos(i,"red")}},{key:"editMode",value:function(){this.render(),this.container.style.cursor="pointer",this.container.addEventListener("click",this.handleClick),this.container.addEventListener("mouseleave",this.handleMouseLeave),this.container.addEventListener("mousemove",this.handleMouseMove)}},{key:"defaultMode",value:function(){this.render(),this.container.style.cursor="default",this.container.removeEventListener("click",this.handleClick),this.container.removeEventListener("mouseleave",this.handleMouseLeave),this.container.removeEventListener("mousemove",this.handleMouseMove)}}]),o}(e(i("jm4w9"))(HTMLElement));customElements.define("tomato-slider",h)}();