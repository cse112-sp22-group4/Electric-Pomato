!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},n=t.parcelRequireeb0a;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequireeb0a=n),n.register("6RjbW",(function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports})),n.register("2tlwz",(function(e,t){function o(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports})),n.register("9wqlD",(function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports})),n.register("8pxQ1",(function(e,t){var o=n("1kNxh");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports})),n.register("1kNxh",(function(e,t){function o(t,r){return e.exports=o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,o(t,r)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports})),n.register("17uBT",(function(e,t){var o=n("dFl6y").default,r=n("9wqlD");e.exports=function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports})),n.register("dFl6y",(function(e,t){function o(t){return e.exports=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports})),n.register("D7RPs",(function(e,t){function o(t){return e.exports=o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports})),n.register("jm4w9",(function(e,t){var o=n("D7RPs"),r=n("1kNxh"),i=n("jBy1F"),u=n("18hbE");function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return u(e,arguments,o(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})),n.register("jBy1F",(function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports})),n.register("18hbE",(function(e,t){var o=n("1kNxh"),r=n("bWpXr");function i(t,n,u){return r()?(e.exports=i=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&o(i,r.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports})),n.register("bWpXr",(function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports}));var i=n("6RjbW"),u=n("2tlwz"),s=n("9wqlD"),l=n("8pxQ1"),a=n("17uBT"),c=n("D7RPs");function p(t){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=e(c)(t);if(o){var i=e(c)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return e(a)(this,r)}}var f=function(t){e(l)(r,t);var o=p(r);function r(){var t;return e(i)(this,r),(t=o.call(this)).appendChild(document.querySelector("#tomato-slider-template").content.cloneNode(!0)),t.input=t.firstElementChild,t.container=t.lastElementChild,t.tomatos=t.querySelectorAll(".slider-tomato > g"),t.input.style.display="none",t.handleClick=t.handleClick.bind(e(s)(t)),t.handleMouseMove=t.handleMouseMove.bind(e(s)(t)),t.handleMouseLeave=t.handleMouseLeave.bind(e(s)(t)),new MutationObserver((function(e){e.forEach((function(e){"disabled"===e.attributeName&&(console.log("disabled mutation"),t.updateState())}))})).observe(t.input,{attributes:!0}),t}return e(u)(r,[{key:"connectedCallback",value:function(){this.updateState()}},{key:"updateState",value:function(){this.input.disabled?this.defaultMode():this.editMode()}},{key:"colorTomatos",value:function(e,t){this.tomatos.forEach((function(o,r){o.classList.value=r<e?"".concat(t,"-tomato"):"white-tomato"}))}},{key:"render",value:function(){this.input.disabled?this.colorTomatos(Number(this.input.value),"green"):this.colorTomatos(Number(this.input.value),"red")}},{key:"handleClick",value:function(e){var t=this.querySelector(".slider-tomato-container").getBoundingClientRect(),o=t.left,r=t.right;this.input.value=Math.min(Math.ceil((e.clientX-o+1)/((r-o)/5)),5)}},{key:"handleMouseLeave",value:function(){this.colorTomatos(Number(this.input.value),"red")}},{key:"handleMouseMove",value:function(e){var t=this.querySelector(".slider-tomato-container").getBoundingClientRect(),o=t.left,r=t.right,n=Math.min(Math.max(Math.ceil((e.clientX-o)/((r-o)/5)),1),5);this.colorTomatos(n,"red")}},{key:"editMode",value:function(){this.render(),this.container.style.cursor="pointer",this.container.addEventListener("click",this.handleClick),this.container.addEventListener("mouseleave",this.handleMouseLeave),this.container.addEventListener("mousemove",this.handleMouseMove)}},{key:"defaultMode",value:function(){this.render(),this.container.style.cursor="default",this.container.removeEventListener("click",this.handleClick),this.container.removeEventListener("mouseleave",this.handleMouseLeave),this.container.removeEventListener("mousemove",this.handleMouseMove)}}]),r}(e(n("jm4w9"))(HTMLElement));customElements.define("tomato-slider",f)}();